(this["webpackJsonplearn-ag-grid"]=this["webpackJsonplearn-ag-grid"]||[]).push([[0],{146:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,u,l,d,j,f,b,h,p=n(0),x=n.n(p),m=n(12),O=n.n(m),g=(n(146),n(14)),v=n(24),k=n(29),w=n.n(k),y=n(41),C=n(25),D="BNkne13cBor7gdX7Tjp0kbWLcg9eA7XIxY5AIlgw",A={fetchMarks:function(e){var t="https://developers.ria.com/auto/categories/"+"".concat(e,"/marks?api_key=").concat(D);return fetch(t).then((function(e){return e.json()}))},fetchVehicles:function(e,t){var n=t.reduce((function(e,t,n){return e+"&marka_id[".concat(n,"]=").concat(t.value,"&model_id[").concat(n,"]=0")}),""),r="https://developers.ria.com/auto/search?api_key=".concat(D)+"&category_id=".concat(e)+n+"&state[0]=7&city[0]=0";return fetch(encodeURI(r)).then((function(e){return e.json()})).then((function(e){return e.result}))},fetchOneVehicle:function(e){return fetch("https://developers.ria.com/auto/info?api_key=".concat(D,"&auto_id=").concat(e)).then((function(e){return e.json()}))}},G=2,S=Object(C.b)("vehicles/fetchMarks",Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.fetchMarks(G);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),R=Object(C.b)("vehicles/fetchVehicles",function(){var e=Object(y.a)(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.fetchVehicles(G,t);case 2:if(e.t1=n=e.sent.search_result,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===n;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=n.ids;case 11:return r=e.t2,e.next=14,Promise.all(r.map((function(e){return A.fetchOneVehicle(e)})));case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(C.c)({name:"vehicle",initialState:{marks:[],vehicles:[],status:"idle"},reducers:{},extraReducers:function(e){e.addCase(S.pending,(function(e){e.status="loading"})).addCase(S.fulfilled,(function(e,t){e.status="idle",e.marks=t.payload})).addCase(R.pending,(function(e){e.status="loading"})).addCase(R.fulfilled,(function(e,t){e.status="idle",e.vehicles=t.payload}))}}),N=function(e){return e.vehicle.vehicles.map((function(e){return{markName:e.markName,title:e.title,USD:e.USD,regionName:e.stateData.regionName,cityLocative:e.cityLocative,travelRoute:[]}}))},_=function(e){return e.vehicle.marks},L=I.reducer,B=n(15),P=n(11),E=(n(151),n(46)),M=n(191),V=n(3),U=function(){var e=Object(P.f)(),t=Object(p.useState)(!1),n=Object(E.a)(t,2),i=n[0],o=n[1],s=B.a.aside(r||(r=Object(g.a)(["\n    flex: 0 1 auto;\n    background-color: #f8f8f8;\n    text-align: center;\n    position: relative;\n    border-right: 1px solid #DADCDE;\n  "]))),u=Object(B.a)(M.a)(c||(c=Object(g.a)(["\n    position: absolute;\n \n    bottom: ",";\n    right: ",";\n  "])),i?"8px":"0",i?"8px":"-30px"),l=Object(B.a)(M.b)(a||(a=Object(g.a)(["margin: 48px 16px"])));return Object(V.jsxs)(s,{children:[Object(V.jsx)(u,{icon:i?"caret-left":"caret-right",onClick:function(){return o(!i)}}),i&&Object(V.jsxs)(l,{vertical:!0,children:[Object(V.jsx)(M.a,{onClick:function(){return e.push("/grouped-table")},rightIcon:"caret-right",text:"Grouped table"}),Object(V.jsx)(M.a,{onClick:function(){return e.push("/drag-and-drop")},rightIcon:"caret-right",text:"Drag & Drop"})]})]})},T=function(){return Object(V.jsx)("div",{children:"Drag & Drop"})},W=n(30),z=function(){var e=B.a.div(i||(i=Object(g.a)(["\n    display: flex;\n    align-items: center;\n    height: 46.5px;\n    border-bottom: 1px solid #DADCDE;\n  "]))),t=B.a.div(o||(o=Object(g.a)(["\n    flex: 1 1 auto;\n    padding-left: 16px;\n    color: #10161A;\n    font-size: 18px;\n    letter-spacing: 0;\n  "]))),n=Object(B.a)(M.a)(s||(s=Object(g.a)(["\n    margin-right: 16px;\n  "])));return Object(V.jsxs)(e,{children:[Object(V.jsx)("img",{src:"images/logo.png",alt:"Logo"}),Object(V.jsx)(t,{children:"Moto search"}),Object(V.jsx)(n,{icon:"cog",minimal:!0})]})},J=n(87),X=n(192),F=function(){var e=Object(v.b)(),t=Object(v.c)(_),n=Object(p.useState)([]),r=Object(E.a)(n,2),c=r[0],a=r[1],i=B.a.div(u||(u=Object(g.a)(["\n    display: flex;\n    align-items: center;\n    min-height: 45px;\n    padding: 16px;\n  "]))),o=B.a.div(l||(l=Object(g.a)(["\n    color: #000000;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0;\n  "]))),s=B.a.div(d||(d=Object(g.a)(["\n    flex: 1 1 auto;\n    padding-left: 16px;\n  "]))),f=B.a.div(j||(j=Object(g.a)(["\n    width: 50%;\n  "]))),b=X.a.ofType(),h=function(e){return c.map((function(e){return e.name})).includes(e.name)},x=c.length>0?Object(V.jsx)(M.a,{icon:"cross",minimal:!0,onClick:function(){return a([])}}):void 0,m=function(e){return a(c.filter((function(t){return t.name!==e.name})))};return Object(V.jsxs)(i,{children:[Object(V.jsx)(o,{children:"Select manufacturer and region"}),Object(V.jsx)(s,{children:Object(V.jsx)(f,{children:Object(V.jsx)(b,{itemPredicate:function(e,t,n){var r=t.name.toLowerCase(),c=e.toLowerCase();return r.indexOf(c)>=0},itemRenderer:function(e,t){var n=e.name,r=t.handleClick;return t.modifiers.matchesPredicate?Object(V.jsx)(M.d,{icon:h({name:n})?"tick":"blank",onClick:r,text:n},n):null},items:t,fill:!0,noResults:Object(V.jsx)(M.d,{disabled:!0,text:"No results."}),onItemSelect:function(e){if(h(e))return m(e);a([].concat(Object(J.a)(c),[e]))},popoverProps:{minimal:!0},tagRenderer:function(e){return e.name},tagInputProps:{onRemove:function(e){return m({name:e})},rightElement:x},selectedItems:c})})}),Object(V.jsx)(M.a,{icon:"cube-add",intent:"primary",disabled:0===c.length,onClick:function(){return e(R(c))},children:"Search vehicles"})]})},Y=function(){var e=Object(v.c)(N),t=B.a.div(f||(f=Object(g.a)(["\n    flex: 1 1 auto;\n    min-width: 0;\n    padding: 0 16px 16px 16px;\n  "])));return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(z,{}),Object(V.jsx)(F,{}),Object(V.jsx)(t,{children:Object(V.jsx)("div",{className:"ag-theme-alpine",style:{width:"100%",height:"100%"},children:Object(V.jsxs)(W.AgGridReact,{rowData:e,children:[Object(V.jsx)(W.AgGridColumn,{field:"markName",sortable:!0,filter:!0,rowGroup:!0}),Object(V.jsx)(W.AgGridColumn,{field:"title",sortable:!0,filter:!0}),Object(V.jsx)(W.AgGridColumn,{field:"regionName",sortable:!0,filter:!0,rowGroup:!0}),Object(V.jsx)(W.AgGridColumn,{field:"cityLocative",sortable:!0,filter:!0,rowGroup:!0}),Object(V.jsx)(W.AgGridColumn,{field:"USD",sortable:!0,filter:!0}),Object(V.jsx)(W.AgGridColumn,{field:"travelRoute",sortable:!0,filter:!0})]})})})]})};n(181),n(182),n(183),n(184),n(185),n(186);var $=function(){var e=Object(v.b)();Object(p.useEffect)((function(){return e(S())}));var t=B.a.div(b||(b=Object(g.a)(["\n    display: flex;\n    min-height: 100vh;\n  "]))),n=B.a.div(h||(h=Object(g.a)(["\n    flex: 1 1 auto;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  "])));return Object(V.jsxs)(t,{children:[Object(V.jsx)(U,{}),Object(V.jsx)(n,{children:Object(V.jsxs)(P.c,{children:[Object(V.jsx)(P.a,{path:"/grouped-table",children:Object(V.jsx)(Y,{})}),Object(V.jsx)(P.a,{path:"/drag-and-drop",children:Object(V.jsx)(T,{})}),Object(V.jsx)(P.a,{path:"/",children:Object(V.jsx)(Y,{})})]})})]})};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var H=Object(C.b)("counter/fetchCount",function(){var e=Object(y.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(C.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(H.pending,(function(e){e.status="loading"})).addCase(H.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),Q=K.actions,Z=(Q.increment,Q.decrement,Q.incrementByAmount,K.reducer),ee=Object(C.a)({reducer:{counter:Z,vehicle:L}}),te=n(44);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));O.a.render(Object(V.jsx)(x.a.StrictMode,{children:Object(V.jsx)(v.a,{store:ee,children:Object(V.jsx)(te.a,{children:Object(V.jsx)($,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[187,1,2]]]);
//# sourceMappingURL=main.6cecb09d.chunk.js.map