(this["webpackJsonplearn-ag-grid"]=this["webpackJsonplearn-ag-grid"]||[]).push([[0],{155:function(e,t,n){},194:function(e,t,n){},196:function(e,t,n){"use strict";n.r(t);var a,c,r,i,o,s,l,u,d,j,h,b,f,p,m,O,x,v=n(0),g=n.n(v),A=n(17),k=n.n(A),y=(n(155),n(13)),C=n(28),S="MARKS_FETCH_REQUESTED",D="MARKS_FETCH_SUCCEEDED",E="VEHICLES_FETCH_REQUESTED",w="VEHICLES_FETCH_SUCCEEDED",U="IMAGES_FETCH_REQUESTED",R="IMAGES_FETCH_SUCCEEDED",I=function(){return{type:S}},M=n(14),N=n(16),T=(n(159),n(51)),F=n(200),L=n(4),V=function(){var e=Object(N.f)(),t=Object(v.useState)(!1),n=Object(T.a)(t,2),i=n[0],o=n[1],s=M.a.aside(a||(a=Object(y.a)(["\n    flex: 0 1 auto;\n    background-color: #f8f8f8;\n    text-align: center;\n    position: relative;\n    border-right: 1px solid #DADCDE;\n  "]))),l=Object(M.a)(F.a)(c||(c=Object(y.a)(["\n    position: absolute;\n \n    bottom: ",";\n    right: ",";\n  "])),i?"8px":"0",i?"8px":"-30px"),u=Object(M.a)(F.b)(r||(r=Object(y.a)(["margin: 48px 16px"])));return Object(L.jsxs)(s,{children:[Object(L.jsx)(l,{icon:i?"caret-left":"caret-right",onClick:function(){return o(!i)}}),i&&Object(L.jsxs)(u,{vertical:!0,children:[Object(L.jsx)(F.a,{onClick:function(){return e.push("/grouped-table")},rightIcon:"caret-right",text:"Grouped table"}),Object(L.jsx)(F.a,{onClick:function(){return e.push("/drag-and-drop")},rightIcon:"caret-right",text:"Drag & Drop"})]})]})},B=function(){return Object(L.jsx)("div",{children:"Drag & Drop"})},H=n(21),P=n(92),X=function(){var e=M.a.div(i||(i=Object(y.a)(["\n    display: flex;\n    align-items: center;\n    height: 45px;\n    border-bottom: 1px solid #DADCDE;\n  "]))),t=M.a.div(o||(o=Object(y.a)(["\n    flex: 1 1 auto;\n    padding-left: 16px;\n    color: #10161A;\n    font-size: 18px;\n    letter-spacing: 0;\n  "]))),n=Object(M.a)(F.a)(s||(s=Object(y.a)(["\n    margin-right: 16px;\n  "])));return Object(L.jsxs)(e,{children:[Object(L.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAtCAIAAACF9GTsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAP0SURBVFhH7ZZXSzNBFIZNLEmMLSaigl2xQhRFBBsiXgh64U/1TlCwoKIXKrlRMIIFsYENWxLr95iznyxBNLM7guC+F8Nwdsoz78yZWVckEsn43Xp7e3Mb1d8th1KfHEp9cij1yaHUpz9A6Xa7s7OzMzMzXS6XEfov+eTxeCipG1GrsviOg4Xu7u6i0WhJSUlpaWlOTg4PruA+Pz/zaW9v7+joqKamprKyMi8vD1YaSHclvQ9rjfL29vbw8HB7ezuRSEAWCARaWlrAfXl5ubq62tnZOT8/f319xWYij4+Pzc3NHR0d+Gr0V5F1ypOTk42NDViZGEqACAaDwaenp5ubG8YVPuK5ubl4GQqFiouLqUt3JVmnRCAeHx9vbm5SB5SxhBVRAbe6urqqqgqbCwsL2W6gaSMNlGSLEjKM3N3dXV5elkMpQQzjmHIA8vPzCcbjcfhogLvQWwC1RYmYmPyYn58nlxkLiOHhYRBhxUsS6PT0dGtr6+HhAV/r6upYAFJNeUa2dUfQPysry2wPW0yCk0Bra2uzs7OUpA6Wk2osZmVlhVMLJWIlRp80ZPcmw06jlpQcPrDKyso4jpJAxFkMLe/v74l4vd6zs7P9/f2Uvl/ICqV5y8TLlMzgFJLXQ0NDY2Nj4BLhK+aBxe7j6PT0NFeVeZyvpUzJ0JeXl2AxJT4VFBR0dnZyacMhtomoIy6gcDiMeULJ7q+urnLLYnb6iEiZkglI6vX1dczASOZua2sbHBxsb2/3+XxmUPSx4yLIWBsjpCzpWylTgsXcvH5sHKxMxtxcOrwuAwMDpDZtiJD1wkF7lOz6vu+UtIGVJyB9UGVKBAQuxmIxXsLJycmDgwPymjgTU8J0fX09MzPDzorZyU4GIiUnlfPKxcRq5dO3skLJxNhACS4zLS4uzs3Nkba86RyDpaWlqakprh6+0lhKEV16e3tHRkb8fv/P7ji2NTU1MQ0VYeWcXVxccFjJjIWFBe55IpL7tJfFSF8qfEo5rOnIImV/fz//OKQ2aUsQJubmpYEMDiJUBMXspQSFXknKlAigoqIi0mV0dLSrqwu3mJhSbmk4aAA3fkucoPARp4KSwyjICiViSgRBa2srCU6doBBwO9bW1k5MTNTX12O8UMJH1vNHzPKSA6jJIqUIJjmdUgcFg7k7e3p62Hc+STPi/G309fV1d3fLDS/x9GWL8kMAMTe4jY2N/FDKzhKnZOt5nODjT54GFhCRBkoyqaGhgZ0VX0E0PiQFZXl5uaSXEVKXXUq8IdO5BcfHxysqKj61iuCn8fRl6y/YLG4c7OT1M189WsQKtY0oe60dUfQjg2qXQ6lPDqU+OZT65FDqUkbGP3QRhSzsX1NtAAAAAElFTkSuQmCC",alt:"Logo"}),Object(L.jsx)(t,{children:"Moto search"}),Object(L.jsx)(n,{icon:"cog",minimal:!0})]})},z=n(95),G=n(201),J=Object(C.b)((function(e){var t=e.vehicleState;return{marks:t.marks,status:t.status}}),{fetchMarks:I,fetchVehicles:function(e){return{type:E,payload:{selectedMarks:e}}}})((function(e){var t=e.marks,n=e.status,a=e.fetchVehicles,c=Object(v.useState)([{name:"BMW",value:9}]),r=Object(T.a)(c,2),i=r[0],o=r[1],s=M.a.div(l||(l=Object(y.a)(["\n    display: flex;\n    align-items: center;\n    min-height: 45px;\n    padding: 16px;\n  "]))),h=M.a.div(u||(u=Object(y.a)(["\n    color: #000000;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0;\n  "]))),b=M.a.div(d||(d=Object(y.a)(["\n    flex: 1 1 auto;\n    padding-left: 16px;\n    padding-right: 16px;\n  "]))),f=M.a.div(j||(j=Object(y.a)(["\n    width: 50%;\n  "]))),p=G.a.ofType(),m=function(e){return i.map((function(e){return e.name})).includes(e.name)},O=i.length>0?Object(L.jsx)(F.a,{icon:"cross",minimal:!0,onClick:function(){return o([])}}):void 0,x=function(e){return o(i.filter((function(t){return t.name!==e.name})))};return Object(L.jsxs)(s,{children:[Object(L.jsx)(h,{children:"Select manufacturer and region"}),Object(L.jsx)(b,{children:Object(L.jsx)(f,{children:Object(L.jsx)(p,{itemPredicate:function(e,t,n){var a=t.name.toLowerCase(),c=e.toLowerCase();return a.indexOf(c)>=0},itemRenderer:function(e,t){var n=e.name,a=t.handleClick;return t.modifiers.matchesPredicate?Object(L.jsx)(F.d,{icon:m({name:n})?"tick":"blank",onClick:a,text:n},n):null},items:t,fill:!0,noResults:Object(L.jsx)(F.d,{disabled:!0,text:"No results."}),onItemSelect:function(e){if(m(e))return x(e);o([].concat(Object(z.a)(i),[e]))},popoverProps:{minimal:!0},tagRenderer:function(e){return e.name},tagInputProps:{onRemove:function(e){return x({name:e})},rightElement:O},selectedItems:i})})}),Object(L.jsx)(F.a,{icon:"cube-add",intent:"primary",loading:"loading"===n,disabled:0===i.length,onClick:function(){return a(i)},children:"Search vehicles"})]})})),Q=Object(C.b)((function(e,t){return{vehicles:e.vehicleState.vehicles,images:e.vehicleState.images[t.data.id]||[]}}),{fetchImages:function(e){return{type:U,payload:e}}})((function(e){var t,n=e.data,a=e.vehicles,c=e.images,r=e.fetchImages;Object(v.useEffect)((function(){0===c.length&&r(n.id)}));var i=a.find((function(e){return e.id===n.id})),o=M.a.div(h||(h=Object(y.a)(["\n    display: flex;\n    height: 300px;\n  "]))),s=M.a.div(b||(b=Object(y.a)(["\n    min-width: 300px;\n    padding: 18px;\n    white-space: initial;\n  "]))),l=M.a.div(f||(f=Object(y.a)(["\n    flex: 1 1 auto;\n    padding: 18px;\n    white-space: initial;\n  "]))),u=M.a.img(p||(p=Object(y.a)(["\n    width: 100%;\n    height: auto;\n  "])));return Object(L.jsxs)(o,{children:[Object(L.jsx)(s,{children:c&&Object(L.jsx)(u,{src:null===(t=c[0])||void 0===t?void 0:t.formats[0],alt:"Foro of vehicle"})}),Object(L.jsx)(l,{children:"Description: ".concat(i.autoData.description)})]})})),W=n(1),K=n(18),q=function(e){return e.value?"".concat(e.value," \u043e\u0431\u043b\u0430\u0441\u0442\u044c"):e.value},_=function(e){var t,n;return null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.USD},Z=function(e){return e.value?"$".concat(e.value):e.value},Y=function(e){var t,n,a=e.valueFormatted;return a?Object(L.jsx)(F.h,{className:W.a.TOOLTIP_INDICATOR,position:K.a.TOP,content:Object(L.jsxs)("span",{children:[Object(L.jsx)("strong",{children:"UAH:"})," ","".concat(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.UAH," \u0433\u0440.")]}),children:a}):""},$=n(93),ee=Object($.a)([function(e){return e.vehicleState.vehicles}],(function(e){return e.map((function(e){return{id:e.id,markName:e.markName,title:e.title,price:{USD:e.USD,UAH:e.UAH},regionName:e.stateData.regionName,locationCityName:e.locationCityName,travelRoute:[]}}))})),te=Object(C.b)((function(e){return{vehiclesTableData:ee(e)}}),{fetchMarks:I})((function(e){var t=e.vehiclesTableData,n={masterDetail:!0,detailCellRenderer:"vehicleDetails",frameworkComponents:{amountCellRenderer:Y,vehicleDetails:Q},defaultColDef:{sortable:!0,filter:!0,flex:1,minWidth:200},columnDefs:[{headerName:"Mark",field:"markName",cellRenderer:"agGroupCellRenderer",rowGroup:!0},{headerName:"Region",field:"regionName",valueFormatter:q},{headerName:"City",field:"locationCityName",rowGroup:!0},{headerName:"Model",field:"title"},{headerName:"USD",valueGetter:_,valueFormatter:Z,cellRenderer:"amountCellRenderer"},{headerName:"Travel Route"}],rowData:t},a=M.a.div(m||(m=Object(y.a)(["\n    flex: 1 1 auto;\n    min-width: 0;\n    padding: 0 16px 16px 16px;\n  "])));return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(X,{}),Object(L.jsx)(J,{}),Object(L.jsx)(a,{children:Object(L.jsx)("div",{className:"ag-theme-alpine",style:{height:"100%"},children:Object(L.jsx)(P.AgGridReact,Object(H.a)({},n))})})]})}));n(189),n(190),n(191),n(192),n(193),n(194);var ne=Object(C.b)((function(){}),{fetchMarks:I})((function(e){var t=e.fetchMarks;Object(v.useEffect)(t);var n=M.a.div(O||(O=Object(y.a)(["\n    display: flex;\n    min-height: 100vh;\n  "]))),a=M.a.div(x||(x=Object(y.a)(["\n    flex: 1 1 auto;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  "])));return Object(L.jsxs)(n,{children:[Object(L.jsx)(V,{}),Object(L.jsx)(a,{children:Object(L.jsxs)(N.c,{children:[Object(L.jsx)(N.a,{path:"/grouped-table",children:Object(L.jsx)(te,{})}),Object(L.jsx)(N.a,{path:"/drag-and-drop",children:Object(L.jsx)(B,{})}),Object(L.jsx)(N.a,{path:"/",children:Object(L.jsx)(te,{})})]})})]})})),ae=n(37),ce=n(96),re=n(94),ie=n(50),oe={marks:[],vehicles:[],status:"idle",images:{}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(H.a)(Object(H.a)({},e),{},{marks:t.payload});case E:return Object(H.a)(Object(H.a)({},e),{},{status:"loading"});case w:return Object(H.a)(Object(H.a)({},e),{},{vehicles:t.payload,status:"idle"});case R:return Object(H.a)(Object(H.a)({},e),{},{images:Object(H.a)(Object(H.a)({},e.images),{},Object(ie.a)({},t.payload.id,t.payload.images))});default:return e}},le=n(30),ue=n.n(le),de=n(27),je="BNkne13cBor7gdX7Tjp0kbWLcg9eA7XIxY5AIlgw",he={fetchMarks:function(e){var t="https://developers.ria.com/auto/categories/"+"".concat(e,"/marks?api_key=").concat(je);return fetch(t).then((function(e){return e.json()}))},fetchVehicles:function(e,t){var n=t.reduce((function(e,t,n){return e+"&marka_id[".concat(n,"]=").concat(t.value,"&model_id[").concat(n,"]=0")}),""),a="https://developers.ria.com/auto/search?api_key=".concat(je)+"&category_id=".concat(e)+n+"&state[0]=7&city[0]=0&countpage=100";return fetch(encodeURI(a)).then((function(e){return e.json()})).then((function(e){return e.result.search_result.ids}))},fetchOneVehicle:function(e){return fetch("https://developers.ria.com/auto/info?api_key=".concat(je,"&auto_id=").concat(e)).then((function(e){return e.json()}))},fetchImages:function(e){return fetch("https://developers.ria.com/auto/fotos/".concat(e,"?api_key=").concat(je)).then((function(e){return e.json()})).then((function(t){var n=[];for(var a in t.data[e])n.push(t.data[e][a]);return{id:e,images:n}}))}},be=2,fe=ue.a.mark(xe),pe=ue.a.mark(ve),me=ue.a.mark(ge),Oe=ue.a.mark(Ae);function xe(){var e;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(de.b)(he.fetchMarks);case 2:return e=t.sent,t.next=5,Object(de.c)({type:D,payload:e});case 5:case"end":return t.stop()}}),fe)}function ve(e){var t,n;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(de.b)(he.fetchVehicles,be,e.payload.selectedMarks);case 2:if(t=a.sent){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,Object(de.a)(t.map((function(e){return Object(de.b)(he.fetchOneVehicle,e)})));case 7:if(n=a.sent){a.next=10;break}return a.abrupt("return");case 10:return a.next=12,Object(de.c)({type:w,payload:n.map((function(e,n){return Object(H.a)(Object(H.a)({},e),{},{id:t[n]})}))});case 12:case"end":return a.stop()}}),pe)}function ge(e){var t,n,a;return ue.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(de.b)(he.fetchImages,e.payload);case 2:return t=c.sent,n=t.id,a=t.images,c.next=7,Object(de.c)({type:R,payload:{id:n,images:a}});case 7:case"end":return c.stop()}}),me)}function Ae(){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(de.d)(S,xe);case 2:return e.next=4,Object(de.d)(E,ve);case 4:return e.next=6,Object(de.d)(U,ge);case 6:case"end":return e.stop()}}),Oe)}var ke=Ae,ye=Object(ae.combineReducers)({vehicleState:se}),Ce=Object(ce.a)(),Se=Object(ae.createStore)(ye,Object(re.composeWithDevTools)(Object(ae.applyMiddleware)(Ce)));Ce.run(ke);var De=n(48);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.a.render(Object(L.jsx)(g.a.StrictMode,{children:Object(L.jsx)(C.a,{store:Se,children:Object(L.jsx)(De.a,{children:Object(L.jsx)(ne,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[196,1,2]]]);
//# sourceMappingURL=main.e07dfbfd.chunk.js.map