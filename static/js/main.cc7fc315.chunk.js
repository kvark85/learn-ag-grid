(this["webpackJsonplearn-ag-grid"]=this["webpackJsonplearn-ag-grid"]||[]).push([[0],{154:function(e,t,n){},193:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var a,c,r,i,o,s,l,u,d,j,h,b,p,f,x,O,m=n(0),v=n.n(m),g=n(17),A=n.n(g),k=(n(154),n(13)),y=n(27),C="MARKS_FETCH_REQUESTED",S="MARKS_FETCH_SUCCEEDED",D="VEHICLES_FETCH_REQUESTED",w="VEHICLES_FETCH_SUCCEEDED",U=function(){return{type:C}},R=n(14),E=n(16),M=(n(158),n(50)),N=n(199),I=n(4),T=function(){var e=Object(E.f)(),t=Object(m.useState)(!1),n=Object(M.a)(t,2),i=n[0],o=n[1],s=R.a.aside(a||(a=Object(k.a)(["\n    flex: 0 1 auto;\n    background-color: #f8f8f8;\n    text-align: center;\n    position: relative;\n    border-right: 1px solid #DADCDE;\n  "]))),l=Object(R.a)(N.a)(c||(c=Object(k.a)(["\n    position: absolute;\n \n    bottom: ",";\n    right: ",";\n  "])),i?"8px":"0",i?"8px":"-30px"),u=Object(R.a)(N.b)(r||(r=Object(k.a)(["margin: 48px 16px"])));return Object(I.jsxs)(s,{children:[Object(I.jsx)(l,{icon:i?"caret-left":"caret-right",onClick:function(){return o(!i)}}),i&&Object(I.jsxs)(u,{vertical:!0,children:[Object(I.jsx)(N.a,{onClick:function(){return e.push("/grouped-table")},rightIcon:"caret-right",text:"Grouped table"}),Object(I.jsx)(N.a,{onClick:function(){return e.push("/drag-and-drop")},rightIcon:"caret-right",text:"Drag & Drop"})]})]})},L=function(){return Object(I.jsx)("div",{children:"Drag & Drop"})},V=n(25),F=n(91),B=function(){var e=R.a.div(i||(i=Object(k.a)(["\n    display: flex;\n    align-items: center;\n    height: 45px;\n    border-bottom: 1px solid #DADCDE;\n  "]))),t=R.a.div(o||(o=Object(k.a)(["\n    flex: 1 1 auto;\n    padding-left: 16px;\n    color: #10161A;\n    font-size: 18px;\n    letter-spacing: 0;\n  "]))),n=Object(R.a)(N.a)(s||(s=Object(k.a)(["\n    margin-right: 16px;\n  "])));return Object(I.jsxs)(e,{children:[Object(I.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAAtCAIAAACF9GTsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAP0SURBVFhH7ZZXSzNBFIZNLEmMLSaigl2xQhRFBBsiXgh64U/1TlCwoKIXKrlRMIIFsYENWxLr95iznyxBNLM7guC+F8Nwdsoz78yZWVckEsn43Xp7e3Mb1d8th1KfHEp9cij1yaHUpz9A6Xa7s7OzMzMzXS6XEfov+eTxeCipG1GrsviOg4Xu7u6i0WhJSUlpaWlOTg4PruA+Pz/zaW9v7+joqKamprKyMi8vD1YaSHclvQ9rjfL29vbw8HB7ezuRSEAWCARaWlrAfXl5ubq62tnZOT8/f319xWYij4+Pzc3NHR0d+Gr0V5F1ypOTk42NDViZGEqACAaDwaenp5ubG8YVPuK5ubl4GQqFiouLqUt3JVmnRCAeHx9vbm5SB5SxhBVRAbe6urqqqgqbCwsL2W6gaSMNlGSLEjKM3N3dXV5elkMpQQzjmHIA8vPzCcbjcfhogLvQWwC1RYmYmPyYn58nlxkLiOHhYRBhxUsS6PT0dGtr6+HhAV/r6upYAFJNeUa2dUfQPysry2wPW0yCk0Bra2uzs7OUpA6Wk2osZmVlhVMLJWIlRp80ZPcmw06jlpQcPrDKyso4jpJAxFkMLe/v74l4vd6zs7P9/f2Uvl/ICqV5y8TLlMzgFJLXQ0NDY2Nj4BLhK+aBxe7j6PT0NFeVeZyvpUzJ0JeXl2AxJT4VFBR0dnZyacMhtomoIy6gcDiMeULJ7q+urnLLYnb6iEiZkglI6vX1dczASOZua2sbHBxsb2/3+XxmUPSx4yLIWBsjpCzpWylTgsXcvH5sHKxMxtxcOrwuAwMDpDZtiJD1wkF7lOz6vu+UtIGVJyB9UGVKBAQuxmIxXsLJycmDgwPymjgTU8J0fX09MzPDzorZyU4GIiUnlfPKxcRq5dO3skLJxNhACS4zLS4uzs3Nkba86RyDpaWlqakprh6+0lhKEV16e3tHRkb8fv/P7ji2NTU1MQ0VYeWcXVxccFjJjIWFBe55IpL7tJfFSF8qfEo5rOnIImV/fz//OKQ2aUsQJubmpYEMDiJUBMXspQSFXknKlAigoqIi0mV0dLSrqwu3mJhSbmk4aAA3fkucoPARp4KSwyjICiViSgRBa2srCU6doBBwO9bW1k5MTNTX12O8UMJH1vNHzPKSA6jJIqUIJjmdUgcFg7k7e3p62Hc+STPi/G309fV1d3fLDS/x9GWL8kMAMTe4jY2N/FDKzhKnZOt5nODjT54GFhCRBkoyqaGhgZ0VX0E0PiQFZXl5uaSXEVKXXUq8IdO5BcfHxysqKj61iuCn8fRl6y/YLG4c7OT1M189WsQKtY0oe60dUfQjg2qXQ6lPDqU+OZT65FDqUkbGP3QRhSzsX1NtAAAAAElFTkSuQmCC",alt:"Logo"}),Object(I.jsx)(t,{children:"Moto search"}),Object(I.jsx)(n,{icon:"cog",minimal:!0})]})},P=n(94),X=n(200),z=Object(y.b)((function(e){var t=e.vehicleState;return{marks:t.marks,status:t.status}}),{fetchMarks:U,fetchVehicles:function(e){return{type:D,payload:{selectedMarks:e}}}})((function(e){var t=e.marks,n=e.status,a=e.fetchVehicles,c=Object(m.useState)([{name:"BMW",value:9}]),r=Object(M.a)(c,2),i=r[0],o=r[1],s=R.a.div(l||(l=Object(k.a)(["\n    display: flex;\n    align-items: center;\n    min-height: 45px;\n    padding: 16px;\n  "]))),h=R.a.div(u||(u=Object(k.a)(["\n    color: #000000;\n    font-size: 20px;\n    font-weight: bold;\n    letter-spacing: 0;\n  "]))),b=R.a.div(d||(d=Object(k.a)(["\n    flex: 1 1 auto;\n    padding-left: 16px;\n    padding-right: 16px;\n  "]))),p=R.a.div(j||(j=Object(k.a)(["\n    width: 50%;\n  "]))),f=X.a.ofType(),x=function(e){return i.map((function(e){return e.name})).includes(e.name)},O=i.length>0?Object(I.jsx)(N.a,{icon:"cross",minimal:!0,onClick:function(){return o([])}}):void 0,v=function(e){return o(i.filter((function(t){return t.name!==e.name})))};return Object(I.jsxs)(s,{children:[Object(I.jsx)(h,{children:"Select manufacturer and region"}),Object(I.jsx)(b,{children:Object(I.jsx)(p,{children:Object(I.jsx)(f,{itemPredicate:function(e,t,n){var a=t.name.toLowerCase(),c=e.toLowerCase();return a.indexOf(c)>=0},itemRenderer:function(e,t){var n=e.name,a=t.handleClick;return t.modifiers.matchesPredicate?Object(I.jsx)(N.d,{icon:x({name:n})?"tick":"blank",onClick:a,text:n},n):null},items:t,fill:!0,noResults:Object(I.jsx)(N.d,{disabled:!0,text:"No results."}),onItemSelect:function(e){if(x(e))return v(e);o([].concat(Object(P.a)(i),[e]))},popoverProps:{minimal:!0},tagRenderer:function(e){return e.name},tagInputProps:{onRemove:function(e){return v({name:e})},rightElement:O},selectedItems:i})})}),Object(I.jsx)(N.a,{icon:"cube-add",intent:"primary",loading:"loading"===n,disabled:0===i.length,onClick:function(){return a(i)},children:"Search vehicles"})]})})),H=Object(y.b)((function(e){return{vehicles:e.vehicleState.vehicles}}))((function(e){var t=e.vehicles.find((function(t){return t.id===e.data.id})),n=R.a.div(h||(h=Object(k.a)(["\n    display: flex;\n    height: 300px;\n  "]))),a=R.a.div(b||(b=Object(k.a)(["\n    min-width: 300px;\n    padding: 18px;\n    white-space: initial;\n  "]))),c=R.a.div(p||(p=Object(k.a)(["\n    flex: 1 1 auto;\n    padding: 18px;\n    white-space: initial;\n  "])));return Object(I.jsxs)(n,{children:[Object(I.jsx)(a,{children:" photo "}),Object(I.jsx)(c,{children:"Description: ".concat(t.autoData.description)})]})})),J=n(1),W=n(18),Q=function(e){return e.value?"".concat(e.value," \u043e\u0431\u043b\u0430\u0441\u0442\u044c"):e.value},G=function(e){var t,n;return null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.USD},K=function(e){return e.value?"$".concat(e.value):e.value},q=function(e){var t,n,a=e.valueFormatted;return a?Object(I.jsx)(N.h,{className:J.a.TOOLTIP_INDICATOR,position:W.a.TOP,content:Object(I.jsxs)("span",{children:[Object(I.jsx)("strong",{children:"UAH:"})," ","".concat(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.price)||void 0===n?void 0:n.UAH," \u0433\u0440.")]}),children:a}):""},Z=n(92),Y=Object(Z.a)([function(e){return e.vehicleState.vehicles}],(function(e){return e.map((function(e){return{id:e.id,markName:e.markName,title:e.title,price:{USD:e.USD,UAH:e.UAH},regionName:e.stateData.regionName,locationCityName:e.locationCityName,travelRoute:[]}}))})),_=Object(y.b)((function(e){return{vehiclesTableData:Y(e)}}),{fetchMarks:U})((function(e){var t=e.vehiclesTableData,n={masterDetail:!0,detailCellRenderer:"vehicleDetails",frameworkComponents:{amountCellRenderer:q,vehicleDetails:H},defaultColDef:{sortable:!0,filter:!0,flex:1,minWidth:200},columnDefs:[{headerName:"Mark",field:"markName",cellRenderer:"agGroupCellRenderer",rowGroup:!0},{headerName:"Region",field:"regionName",valueFormatter:Q},{headerName:"City",field:"locationCityName",rowGroup:!0},{headerName:"Model",field:"title"},{headerName:"USD",valueGetter:G,valueFormatter:K,cellRenderer:"amountCellRenderer"},{headerName:"Travel Route"}],rowData:t},a=R.a.div(f||(f=Object(k.a)(["\n    flex: 1 1 auto;\n    min-width: 0;\n    padding: 0 16px 16px 16px;\n  "])));return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(B,{}),Object(I.jsx)(z,{}),Object(I.jsx)(a,{children:Object(I.jsx)("div",{className:"ag-theme-alpine",style:{height:"100%"},children:Object(I.jsx)(F.AgGridReact,Object(V.a)({},n))})})]})}));n(188),n(189),n(190),n(191),n(192),n(193);var $=Object(y.b)((function(){}),{fetchMarks:U})((function(e){var t=e.fetchMarks;Object(m.useEffect)(t);var n=R.a.div(x||(x=Object(k.a)(["\n    display: flex;\n    min-height: 100vh;\n  "]))),a=R.a.div(O||(O=Object(k.a)(["\n    flex: 1 1 auto;\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n  "])));return Object(I.jsxs)(n,{children:[Object(I.jsx)(T,{}),Object(I.jsx)(a,{children:Object(I.jsxs)(E.c,{children:[Object(I.jsx)(E.a,{path:"/grouped-table",children:Object(I.jsx)(_,{})}),Object(I.jsx)(E.a,{path:"/drag-and-drop",children:Object(I.jsx)(L,{})}),Object(I.jsx)(E.a,{path:"/",children:Object(I.jsx)(_,{})})]})})]})})),ee=n(36),te=n(95),ne=n(93),ae={marks:[],vehicles:[],status:"idle"},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(V.a)(Object(V.a)({},e),{},{marks:t.payload});case D:return Object(V.a)(Object(V.a)({},e),{},{status:"loading"});case w:return Object(V.a)(Object(V.a)({},e),{},{vehicles:t.payload,status:"idle"});default:return e}},re=n(38),ie=n.n(re),oe=n(29),se="BNkne13cBor7gdX7Tjp0kbWLcg9eA7XIxY5AIlgw",le={fetchMarks:function(e){var t="https://developers.ria.com/auto/categories/"+"".concat(e,"/marks?api_key=").concat(se);return fetch(t).then((function(e){return e.json()}))},fetchVehicles:function(e,t){var n=t.reduce((function(e,t,n){return e+"&marka_id[".concat(n,"]=").concat(t.value,"&model_id[").concat(n,"]=0")}),""),a="https://developers.ria.com/auto/search?api_key=".concat(se)+"&category_id=".concat(e)+n+"&state[0]=7&city[0]=0&countpage=100";return fetch(encodeURI(a)).then((function(e){return e.json()})).then((function(e){return e.result.search_result.ids}))},fetchOneVehicle:function(e){return fetch("https://developers.ria.com/auto/info?api_key=".concat(se,"&auto_id=").concat(e)).then((function(e){return e.json()}))}},ue=2,de=ie.a.mark(be),je=ie.a.mark(pe),he=ie.a.mark(fe);function be(){var e;return ie.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(oe.b)(le.fetchMarks);case 2:return e=t.sent,t.next=5,Object(oe.c)({type:S,payload:e});case 5:case"end":return t.stop()}}),de)}function pe(e){var t,n;return ie.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(oe.b)(le.fetchVehicles,ue,e.payload.selectedMarks);case 2:if(t=a.sent){a.next=5;break}return a.abrupt("return");case 5:return a.next=7,Object(oe.a)(t.map((function(e){return Object(oe.b)(le.fetchOneVehicle,e)})));case 7:if(n=a.sent){a.next=10;break}return a.abrupt("return");case 10:return a.next=12,Object(oe.c)({type:w,payload:n.map((function(e,n){return Object(V.a)(Object(V.a)({},e),{},{id:t[n]})}))});case 12:case"end":return a.stop()}}),je)}function fe(){return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(oe.d)(C,be);case 2:return e.next=4,Object(oe.d)(D,pe);case 4:case"end":return e.stop()}}),he)}var xe=fe,Oe=Object(ee.combineReducers)({vehicleState:ce}),me=Object(te.a)(),ve=Object(ee.createStore)(Oe,Object(ne.composeWithDevTools)(Object(ee.applyMiddleware)(me)));me.run(xe);var ge=n(48);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));A.a.render(Object(I.jsx)(v.a.StrictMode,{children:Object(I.jsx)(y.a,{store:ve,children:Object(I.jsx)(ge.a,{children:Object(I.jsx)($,{})})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[195,1,2]]]);
//# sourceMappingURL=main.cc7fc315.chunk.js.map